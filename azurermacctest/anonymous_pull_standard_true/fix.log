Test Case: anonymous_pull_standard_true
================================================================================

Initial Error:
Error: Attempt to get attribute from null value
  on azapi.tf line 47, in resource "azapi_resource" "post_creation0":
  47:   type           = module.replicator.post_creation0.azapi_header.type
    â”‚ module.replicator.post_creation0 is null
This value is null, so it does not have any attributes.

Fix Process:

Attempt 1:
- Problem Analysis: The module.replicator.post_creation0 is null for this configuration (Standard SKU with anonymous_pull_enabled=true doesn't have georeplications), but the azapi_resource block tries to access its attributes unconditionally.
- Fix Method: Add conditional count to the post_creation0 resource block to only create it when the module output is not null
- Changes Made: Added 'count = module.replicator.post_creation0 != null ? 1 : 0' to the azapi_resource.post_creation0 block
- Result: Fix successful - plan now runs without errors

Drift Analysis:
All detected drifts were acceptable according to acceptable_drift_patterns.md:
1. Resource-level attributes (ignore_null_property, locks, output, replace_triggers_external_values, sensitive_body_version, type) - all acceptable
2. Body structure changes (dataEndpointEnabled, encryption, policies.*, roleAssignmentMode) - all acceptable because these fields were NOT explicitly set in azurerm.tf (optional+computed fields with Azure defaults)

After apply, second plan showed no changes (idempotent).
Resource comparison showed only timestamp differences (lastUpdatedTime, lastModifiedAt) which are expected.

Final Result: Fix successful
